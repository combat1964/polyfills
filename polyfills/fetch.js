!function(){"use strict";function t(e){this.map={};var r=this;e instanceof t?e.forEach(function(t,e){e.forEach(function(e){r.append(t,e)})}):e&&Object.getOwnPropertyNames(e).forEach(function(t){r.append(t,e[t])})}function e(t){return t.bodyUsed?Promise.reject(new TypeError("Already read")):void(t.bodyUsed=!0)}function r(){return this._body=null,this.bodyUsed=!1,this.arrayBuffer=function(){throw new Error("Not implemented yet")},this.blob=function(){var t=e(this);return t?t:Promise.resolve(new Blob([this._body]))},this.formData=function(){var t=e(this);return t?t:Promise.resolve(i(this._body))},this.json=function(){var t=e(this);if(t)return t;var r=this._body;return new Promise(function(t,e){try{t(JSON.parse(r))}catch(n){e(n)}})},this.text=function(){var t=e(this);return t?t:Promise.resolve(this._body)},this}function n(t){var e=t.toUpperCase();return u.indexOf(e)>-1?e:t}function o(e,r){r=r||{},this.url=e,this._body=r.body,this.credentials=r.credentials||null,this.headers=new t(r.headers),this.method=n(r.method||"GET"),this.mode=r.mode||null,this.referrer=null}function i(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var r=t.split("="),n=r.shift().replace(/\+/g," "),o=r.join("=").replace(/\+/g," ");e.append(decodeURIComponent(n),decodeURIComponent(o))}}),e}function s(e){var r=new t,n=e.getAllResponseHeaders().trim().split("\n");return n.forEach(function(t){var e=t.trim().split(":"),n=e.shift().trim(),o=e.join(":").trim();r.append(n,o)}),r}function a(t,e){this._body=t,this.type="default",this.url=null,this.status=e.status,this.statusText=e.statusText,this.headers=e.headers}if(!window.fetch){t.prototype.append=function(t,e){var r=this.map[t];r||(r=[],this.map[t]=r),r.push(e)},t.prototype["delete"]=function(t){delete this.map[t]},t.prototype.get=function(t){var e=this.map[t];return e?e[0]:null},t.prototype.getAll=function(t){return this.map[t]||[]},t.prototype.has=function(t){return this.map.hasOwnProperty(t)},t.prototype.set=function(t,e){this.map[t]=[e]},t.prototype.forEach=function(t){var e=this;Object.getOwnPropertyNames(this.map).forEach(function(r){t(r,e.map[r])})};var u=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];o.prototype.fetch=function(){var t=this;return new Promise(function(e,r){var n=new XMLHttpRequest;n.onload=function(){var t=1223===n.status?204:n.status;if(100>t||t>599)return void r(new TypeError("Network request failed"));var o={status:t,statusText:n.statusText,headers:s(n)};e(new a(n.responseText,o))},n.onerror=function(){r(new TypeError("Network request failed"))},n.open(t.method,t.url),t.headers.forEach(function(t,e){e.forEach(function(e){n.setRequestHeader(t,e)})}),n.send(void 0===t._body?null:t._body)})},r.call(o.prototype),r.call(a.prototype),window.fetch=function(t,e){return new o(t,e).fetch()}}}();